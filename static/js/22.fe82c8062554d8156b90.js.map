{"version":3,"sources":["webpack:///src/views/contentManage/counsel/counsel.vue","webpack:///./src/views/contentManage/counsel/counsel.vue?63e5","webpack:///./src/views/contentManage/counsel/counsel.vue","webpack:///./src/views/contentManage/counsel/index.js"],"names":["counsel","data","_this","this","dictionary_list","selectClass","content_show","tableData","currentPage","page_size","total","dialogVisible","formLabelAlign","name","mobile","mail","company_name","company_address","company_summary","industry","business","rules","required","message","trigger","validator","rule","value","callback","Error","test","regEmail","RegExp","mounted","getcounselList","methods","getDictionary","that","axios_default","a","post","code","then","response","error","handleSizeChange","val","handleCurrentChange","handleEdit","index","row","handleClose","_this2","$confirm","showClose","submitUserInfo","catch","openAddDialog","submitDialog","formType","$refs","validate","valid","method","info","hasOwnProperty","cancleDialog","page_index","params","get","array","rdata","count","des_num","json","rows","i","length","push","$message","type","counsel_counsel","render","_vm","_h","$createElement","_c","_self","staticStyle","margin-bottom","attrs","shadow","staticClass","_v","on","click","$event","border","prop","label","align","width","scopedSlots","_u","key","fn","scope","size","$index","current-page","page-sizes","page-size","layout","size-change","current-change","update:currentPage","update:current-page","title","visible","append-to-body","before-close","closeOnClickModal","update:visible","ref","label-position","label-width","model","$$v","$set","expression","autosize","minRows","maxRows","placeholder","_e","slot","staticRenderFns","contentManage_counsel_counsel","__webpack_require__","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/22.fe82c8062554d8156b90.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-row style=\"margin-bottom:20px;\">\r\n      <el-card shadow=\"always\">\r\n        <span class=\"content-title\">咨询管理</span>\r\n        <el-button\r\n          type=\"success\"\r\n          @click=\"openAddDialog()\"\r\n        >添加</el-button>\r\n      </el-card>\r\n    </el-row>\r\n    <el-table\r\n      border\r\n      :data=\"tableData\"\r\n    >\r\n      <el-table-column\r\n        prop=\"index\"\r\n        label=\"序号\"\r\n        align=\"center\"\r\n        width=\"80\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"company_name\"\r\n        label=\"公司名称\"\r\n        align=\"center\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"company_address\"\r\n        label=\"公司地址\"\r\n        align=\"center\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"联系人姓名\"\r\n        align=\"center\"\r\n        width=\"120\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"mobile\"\r\n        label=\"联系人号码\"\r\n        align=\"center\"\r\n        width=\"130\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"mail\"\r\n        label=\"联系人邮箱\"\r\n        align=\"center\"\r\n        width=\"180\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"create_time\"\r\n        label=\"创建时间\"\r\n        align=\"center\"\r\n        width=\"200\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"操作\"\r\n        align=\"center\"\r\n        width=\"100\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"handleEdit(scope.$index, scope.row)\"\r\n          >详情</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"block pager\">\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"currentPage\"\r\n        :page-sizes=\"[15, 20, 30]\"\r\n        :page-size=\"page_size\"\r\n        layout=\"sizes, prev, pager, next\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n    <el-dialog\r\n      title=\"添加\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"50%\"\r\n      :append-to-body='true'\r\n      :before-close=\"handleClose\"\r\n      :closeOnClickModal='false'\r\n    >\r\n      <div class=\"el-dialog-counsel\">\r\n        <el-form\r\n          label-position=\"top\"\r\n          :rules=\"rules\"\r\n          ref=\"formLabelAlign\"\r\n          label-width=\"80px\"\r\n          :model=\"formLabelAlign\"\r\n        >\r\n          <el-form-item\r\n            label=\"公司名称\"\r\n            prop=\"company_name\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.company_name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"公司地址\"\r\n            prop=\"company_address\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.company_address\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"公司简介\"\r\n            prop=\"company_summary\"\r\n          >\r\n            <el-input\r\n              type=\"textarea\"\r\n              v-model=\"formLabelAlign.company_summary\"\r\n              :autosize=\"{ minRows: 10, maxRows: 33}\"\r\n              placeholder=\"请输入内容\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"行业\"\r\n            prop=\"industry\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.industry\"></el-input>\r\n          </el-form-item>\r\n          <!--<el-form-item label=\"活动性质\">\r\n\t\t    <el-checkbox-group v-model=\"formLabelAlign.business\">\r\n\t\t   \t  <el-checkbox v-for=\"json in dictionary_list\" :label=\"json.id\" name=\"business\">{{json.name}}</el-checkbox>\r\n\t\t    </el-checkbox-group>\r\n\t\t  </el-form-item>-->\r\n          <el-form-item\r\n            label=\"联系人姓名\"\r\n            prop=\"name\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"联系人号码\"\r\n            prop=\"mobile\"\r\n          >\r\n            <el-input\r\n              type=\"number\"\r\n              v-model=\"formLabelAlign.mobile\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"联系人邮箱\"\r\n            prop=\"mail\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.mail\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <span\r\n        slot=\"footer\"\r\n        class=\"dialog-footer\"\r\n        v-if=\"!formLabelAlign.hasOwnProperty('con_id')\"\r\n      >\r\n        <el-button @click=\"handleClose\">取 消</el-button>\r\n        <el-button\r\n          type=\"primary\"\r\n          @click=\"submitDialog('formLabelAlign')\"\r\n        >提 交</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { utcTimeChange } from \"@/utils\";\r\nexport default {\r\n  data() {\r\n    var validateMobile = (rule, value, callback) => {\r\n      var reg = 11 && /^((13|14|15|17|18)[0-9]{1}\\d{8})$/;\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入手机号\"));\r\n      } else if (!reg.test(this.formLabelAlign.mobile)) {\r\n        callback(new Error(\"手机号格式不正确\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var validateEmail = (rule, value, callback) => {\r\n      var regEmail = new RegExp(\r\n        \"^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$\"\r\n      );\r\n      if (value != \"\" && !regEmail.test(this.formLabelAlign.mail)) {\r\n        callback(new Error(\"邮箱格式不正确\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      dictionary_list: [],\r\n      selectClass: \"el-icon-arrow-down\",\r\n      content_show: false,\r\n      //表格\r\n      tableData: [],\r\n      currentPage: 1,\r\n      page_size: 15,\r\n      total: 0,\r\n      //弹出框\r\n      dialogVisible: false,\r\n      //表单\r\n      formLabelAlign: {\r\n        name: \"\",\r\n        mobile: \"\",\r\n        mail: \"\",\r\n        company_name: \"\",\r\n        company_address: \"\",\r\n        company_summary: \"\",\r\n        industry: \"\",\r\n        business: []\r\n      },\r\n      rules: {\r\n        name: [{ required: true, message: \"请输入姓名\", trigger: \"blur\" }],\r\n        mobile: [\r\n          { required: true, message: \"请输入手机号\", trigger: \"blur\" },\r\n          { validator: validateMobile, trigger: \"blur\" }\r\n        ],\r\n        mail: [{ validator: validateEmail, trigger: \"blur\" }]\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    //this.getDictionary();\r\n    this.getcounselList(\"1\", \"15\");\r\n  },\r\n  methods: {\r\n    getDictionary() {\r\n      var that = this;\r\n      var params = { code: \"business\" };\r\n      axios.post(\"core/dictionary/list\", params).then(\r\n        function(response) {\r\n          var code = response.code;\r\n          if (0 == code) {\r\n            that.dictionary_list = response.data;\r\n          } else {\r\n          }\r\n        },\r\n        function(error) {}\r\n      );\r\n    },\r\n    handleSizeChange(val) {\r\n      this.getcounselList(this.currentPage, val);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.getcounselList(val, this.page_size);\r\n    },\r\n    //详情\r\n    handleEdit(index, row) {\r\n      this.dialogVisible = true;\r\n      this.formLabelAlign = {\r\n        name: row.name,\r\n        mobile: row.mobile,\r\n        mail: row.mail,\r\n        company_name: row.company_name,\r\n        company_address: row.company_address,\r\n        company_summary: row.company_summary,\r\n        industry: row.industry,\r\n        business: row.business\r\n      };\r\n    },\r\n    handleClose() {\r\n      var that = this;\r\n      this.$confirm('是否保存？',{\r\n        showClose:false\r\n      })\r\n      .then(() => {\r\n        that.submitUserInfo('formLabelAlign');\r\n      })\r\n      .catch(() => {this.dialogVisible = false});\r\n    },\r\n    openAddDialog() {\r\n      this.formLabelAlign = {\r\n        name: \"\",\r\n        mobile: \"\",\r\n        mail: \"\",\r\n        company_name: \"\",\r\n        company_address: \"\",\r\n        company_summary: \"\",\r\n        industry: \"\",\r\n        business: []\r\n      };\r\n      this.dialogVisible = true;\r\n    },\r\n    submitDialog(formType) {\r\n      var that = this;\r\n      this.$refs[formType].validate(valid => {\r\n        if (valid) {\r\n          var method = \"\";\r\n          var info = \"\";\r\n          if (that.formLabelAlign.hasOwnProperty(\"con_id\")) {\r\n            method = \"core/consultative/update\";\r\n            info = \"修改成功!\";\r\n          } else {\r\n            method = \"content/consultative/create\";\r\n            info = \"添加成功!\";\r\n          }\r\n          that.submitUserInfo(method, that.formLabelAlign, info);\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    cancleDialog() {\r\n      this.dialogVisible = false;\r\n    },\r\n    getcounselList(page_index, page_size) {\r\n      var params = { page_index: page_index, page_size: page_size };\r\n      var that = this;\r\n      axios.get(\"content/consultative/pageList\", { params }).then(\r\n        function(response) {\r\n          var code = response.code;\r\n          if (0 == code) {\r\n            var array = [];\r\n            var rdata = response.data;\r\n            var count = rdata.count;\r\n            var page_index = rdata.page_index;\r\n            var page_size = rdata.page_size;\r\n            that.currentPage = page_index;\r\n            that.page_size = page_size;\r\n            that.total = count;\r\n            var des_num = (page_index - 1) * page_size;\r\n            var json = rdata.rows;\r\n            for (var i = 0; i < json.length; i++) {\r\n              json[i].index = des_num + i + 1;\r\n              array.push(json[i]);\r\n            }\r\n            that.tableData = array;\r\n          } else {\r\n            //console.log(code);\r\n          }\r\n        },\r\n        function(error) {\r\n          //console.log(error);\r\n        }\r\n      );\r\n    },\r\n    submitUserInfo(method, params, info) {\r\n      var that = this;\r\n      axios.post(method, params).then(\r\n        function(response) {\r\n          var code = response.code;\r\n          if (0 == code) {\r\n            that.$message({\r\n              type: \"success\",\r\n              message: info\r\n            });\r\n            that.dialogVisible = false;\r\n            that.getcounselList(that.currentPage, that.page_size);\r\n          } else {\r\n            that.$message({\r\n              type: \"success\",\r\n              message: \"操作失败:\" + response.message\r\n            });\r\n          }\r\n        },\r\n        function(error) {}\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content-title {\r\n  margin-right: 20px;\r\n}\r\n.advanced-box {\r\n  padding: 20px 10px;\r\n  margin-top: 15px;\r\n  background-color: #f7f7f7;\r\n}\r\n.pager {\r\n  float: right;\r\n  padding: 10px 0;\r\n}\r\n.el-dialog__header {\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.el-dialog-counsel {\r\n  height: 530px !important;\r\n  padding-right: 15px;\r\n  overflow-y: scroll;\r\n}\r\n.el-dialog__footer {\r\n  border-top: 1px solid #ccc;\r\n}\r\n.el-form-item__label {\r\n  padding-bottom: 0 !important;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/contentManage/counsel/counsel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-card',{attrs:{\"shadow\":\"always\"}},[_c('span',{staticClass:\"content-title\"},[_vm._v(\"咨询管理\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.openAddDialog()}}},[_vm._v(\"添加\")])],1)],1),_vm._v(\" \"),_c('el-table',{attrs:{\"border\":\"\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"index\",\"label\":\"序号\",\"align\":\"center\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company_name\",\"label\":\"公司名称\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company_address\",\"label\":\"公司地址\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"联系人姓名\",\"align\":\"center\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"联系人号码\",\"align\":\"center\",\"width\":\"130\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mail\",\"label\":\"联系人邮箱\",\"align\":\"center\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"create_time\",\"label\":\"创建时间\",\"align\":\"center\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"详情\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"block pager\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[15, 20, 30],\"page-size\":_vm.page_size,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加\",\"visible\":_vm.dialogVisible,\"width\":\"50%\",\"append-to-body\":true,\"before-close\":_vm.handleClose,\"closeOnClickModal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"el-dialog-counsel\"},[_c('el-form',{ref:\"formLabelAlign\",attrs:{\"label-position\":\"top\",\"rules\":_vm.rules,\"label-width\":\"80px\",\"model\":_vm.formLabelAlign}},[_c('el-form-item',{attrs:{\"label\":\"公司名称\",\"prop\":\"company_name\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.company_name),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"company_name\", $$v)},expression:\"formLabelAlign.company_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公司地址\",\"prop\":\"company_address\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.company_address),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"company_address\", $$v)},expression:\"formLabelAlign.company_address\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公司简介\",\"prop\":\"company_summary\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 10, maxRows: 33},\"placeholder\":\"请输入内容\"},model:{value:(_vm.formLabelAlign.company_summary),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"company_summary\", $$v)},expression:\"formLabelAlign.company_summary\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"行业\",\"prop\":\"industry\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.industry),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"industry\", $$v)},expression:\"formLabelAlign.industry\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.name),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"name\", $$v)},expression:\"formLabelAlign.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人号码\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.formLabelAlign.mobile),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"mobile\", $$v)},expression:\"formLabelAlign.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人邮箱\",\"prop\":\"mail\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.mail),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"mail\", $$v)},expression:\"formLabelAlign.mail\"}})],1)],1)],1),_vm._v(\" \"),(!_vm.formLabelAlign.hasOwnProperty('con_id'))?_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitDialog('formLabelAlign')}}},[_vm._v(\"提 交\")])],1):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08ecde43\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/contentManage/counsel/counsel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-08ecde43\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./counsel.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./counsel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./counsel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08ecde43\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./counsel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-08ecde43\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/contentManage/counsel/counsel.vue\n// module id = null\n// module chunks = ","import counsel from './counsel.vue';\r\nexport default counsel;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/contentManage/counsel/index.js"],"sourceRoot":""}