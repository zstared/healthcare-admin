webpackJsonp([6],{LqJy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i("mtWM"),a=i.n(l),n=(i("mFIW"),i("2uFj")),o=i("0xDb"),s=(i("gyMJ"),{data:function(){return{auth_name:"",selectClass:"el-icon-arrow-down",content_show:!1,forms:{parent_id:0,title:""},dataSource:[],currentPage:1,page_size:15,total:0,dialogVisible:!1,formLabelAlign:{parent_id:0,title:"",status:0,release_time:"",link:""},rules:{parent_id:[{required:!0,message:"请输入活动名称",trigger:"blur"}],status:[{required:!0}],release_time:[{required:!0}]},token:"",second_select_list:[],page_select_size:10,currentSelectPage:1,select_total:15,columns:[{text:"菜单名称",value:"title"},{text:"状态",value:"status",width:100},{text:"链接地址",value:"link",width:200}],component_type_list:[],dialog_type:0,loading:null}},mounted:function(){this.auth_name=o.e.getItem(n.authName,"healthcare"),this.getInfoList("1","15")},methods:{openAddDialog:function(){this.dialog_type=0,this.formLabelAlign={parent_id:0,title:"",status:1,link:""},this.dialogVisible=!0},handleClose:function(){var e=this,t=this;this.$confirm("是否保存？",{showClose:!1}).then(function(){t.addInfo("formLabelAlign")}).catch(function(){e.dialogVisible=!1})},handleDelete:function(e,t){var i=this;this.$confirm("是否确认删除该条信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={nav_id:t.nav_id};i.submitInfo("content/nav/delete",e,"删除成功!")}).catch(function(){})},handleEdit:function(e,t){this.dialog_type=2,this.formLabelAlign={nav_id:t.nav_id,id:t.id,parent_id:t.parent_id,title:t.title,status:t.status,release_time:Object(o.f)(t.release_time),link:t.link},this.dialogVisible=!0},showLoading:function(){this.loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},closeLoading:function(){this.loading&&this.loading.close()},handleAdd:function(e,t){this.dialog_type=1,this.formLabelAlign={parent_id:t.nav_id,title:"",status:1,release_time:"",link:""},this.dialogVisible=!0},addInfo:function(e){var t=this;this.showLoading(),this.$refs[e].validate(function(e){if(!e)return t.closeLoading(),!1;var i="",l="";t.formLabelAlign.hasOwnProperty("nav_id")?(i="content/nav/update",l="修改成功!"):(i="content/nav/create",l="添加成功!"),t.submitInfo(i,t.formLabelAlign,l)})},submitInfo:function(e,t,i){var l=this;a.a.post(e,t).then(function(e){l.closeLoading(),0==e.code?(l.$message({type:"success",message:i}),l.dialogVisible=!1,l.getInfoList(l.currentPage,l.page_size)):l.$message({type:"success",message:"操作失败:"+e.message})},function(e){l.closeLoading()})},getInfoList:function(e,t){var i=this;a.a.get("content/nav/treeListAll",{params:{}}).then(function(e){if(0==e.code){for(var t=[],l=e.data,a=0;a<l.length;a++)t.push(l[a]);i.dataSource=t}},function(e){})}}}),r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-row",{staticStyle:{"margin-bottom":"20px"}},[i("el-card",{attrs:{shadow:"always"}},[i("span",{staticClass:"content-title"},[e._v("组件管理")]),e._v(" "),i("el-button",{attrs:{type:"success"},on:{click:function(t){return e.openAddDialog()}}},[e._v("新增")])],1)],1),e._v(" "),i("treeTable",{attrs:{columns:e.columns,"tree-structure":!0,data:e.dataSource},on:{"on-delete":e.handleDelete,"on-edit":e.handleEdit,"on-add":e.handleAdd}}),e._v(" "),i("el-dialog",{attrs:{title:2==e.dialog_type?"编辑":"新增",visible:e.dialogVisible,width:"60%",top:"5vh","append-to-body":!0,"before-close":e.handleClose,closeOnClickModal:!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"el-dialog-news"},[i("el-form",{ref:"formLabelAlign",attrs:{"label-position":"top",rules:e.rules,"label-width":"80px",model:e.formLabelAlign}},[i("el-form-item",{attrs:{label:"菜单名称",prop:"title"}},[i("el-input",{model:{value:e.formLabelAlign.title,callback:function(t){e.$set(e.formLabelAlign,"title",t)},expression:"formLabelAlign.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"链接地址"}},[i("el-input",{model:{value:e.formLabelAlign.link,callback:function(t){e.$set(e.formLabelAlign,"link",t)},expression:"formLabelAlign.link"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"发布状态",prop:"status"}},[i("el-radio-group",{model:{value:e.formLabelAlign.status,callback:function(t){e.$set(e.formLabelAlign,"status",t)},expression:"formLabelAlign.status"}},[i("el-radio",{attrs:{label:0}},[e._v("未发布")]),e._v(" "),i("el-radio",{attrs:{label:1}},[e._v("发布")])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"发布时间",prop:"release_time"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期","default-time":"01:01:01"},model:{value:e.formLabelAlign.release_time,callback:function(t){e.$set(e.formLabelAlign,"release_time",t)},expression:"formLabelAlign.release_time"}})],1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addInfo("formLabelAlign")}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var d=i("VU/8")(s,r,!1,function(e){i("r5Qo")},"data-v-0c1ed5a5",null).exports;t.default=d},r5Qo:function(e,t){}});
//# sourceMappingURL=6.7b0ed9dbc34038bf2443.js.map