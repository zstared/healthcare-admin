{"version":3,"sources":["webpack:///src/views/contentManage/counsel/counsel.vue","webpack:///./src/views/contentManage/counsel/counsel.vue?b9fc","webpack:///./src/views/contentManage/counsel/counsel.vue","webpack:///./src/views/contentManage/counsel/index.js"],"names":["counsel","data","_this","this","dictionary_list","selectClass","content_show","tableData","currentPage","page_size","total","dialogVisible","formLabelAlign","name","mobile","mail","company_name","company_address","company_summary","industry","job","business","page_info","rules","required","message","trigger","validator","rule","value","callback","Error","test","regEmail","RegExp","mounted","getcounselList","methods","getDictionary","that","axios_default","a","post","code","then","response","console","log","error","handleSizeChange","val","handleCurrentChange","handleEdit","index","row","con_id","handleClose","_this2","$confirm","showClose","submitUserInfo","catch","openAddDialog","submitDialog","formType","$refs","validate","valid","method","info","hasOwnProperty","cancleDialog","page_index","params","get","array","rdata","count","des_num","json","rows","i","length","create_time","Object","utils","join","push","split","$message","type","counsel_counsel","render","_vm","_h","$createElement","_c","_self","staticStyle","margin-bottom","attrs","shadow","staticClass","_v","on","click","$event","border","prop","label","align","width","scopedSlots","_u","key","fn","scope","size","$index","current-page","page-sizes","page-size","layout","size-change","current-change","update:currentPage","update:current-page","title","visible","append-to-body","before-close","closeOnClickModal","update:visible","ref","label-position","label-width","model","$$v","$set","expression","autosize","minRows","maxRows","placeholder","_e","slot","staticRenderFns","contentManage_counsel_counsel","__webpack_require__","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/22.a8e9cf4782dbdbeefa99.js","sourcesContent":["<template>\n  <div>\n    <el-row style=\"margin-bottom:20px;\">\n      <el-card shadow=\"always\">\n        <span class=\"content-title\">咨询管理</span>\n        <el-button\n          type=\"success\"\n          @click=\"openAddDialog()\"\n        >添加</el-button>\n      </el-card>\n    </el-row>\n    <el-table\n      border\n      :data=\"tableData\"\n    >\n      <el-table-column\n        prop=\"index\"\n        label=\"序号\"\n        align=\"center\"\n        width=\"80\"\n      >\n      </el-table-column>\n      <el-table-column\n        prop=\"company_name\"\n        label=\"公司名称\"\n        align=\"center\"\n      >\n      </el-table-column>\n      <el-table-column\n        prop=\"company_address\"\n        label=\"公司地址\"\n        align=\"center\"\n      >\n      </el-table-column>\n      <el-table-column\n        prop=\"name\"\n        label=\"联系人姓名\"\n        align=\"center\"\n        width=\"120\"\n      >\n      </el-table-column>\n      <el-table-column\n        prop=\"mobile\"\n        label=\"联系人号码\"\n        align=\"center\"\n        width=\"130\"\n      >\n      </el-table-column>\n      <el-table-column\n        prop=\"mail\"\n        label=\"联系人邮箱\"\n        align=\"center\"\n        width=\"180\"\n      >\n      </el-table-column>\n      <el-table-column\n        prop=\"create_time\"\n        label=\"创建时间\"\n        align=\"center\"\n        width=\"200\"\n      >\n      </el-table-column>\n      <el-table-column\n        label=\"操作\"\n        align=\"center\"\n        width=\"100\"\n      >\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"primary\"\n            @click=\"handleEdit(scope.$index, scope.row)\"\n          >详情</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"block pager\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"currentPage\"\n        :page-sizes=\"[15, 20, 30]\"\n        :page-size=\"page_size\"\n        layout=\"sizes, prev, pager, next\"\n        :total=\"total\"\n      >\n      </el-pagination>\n    </div>\n    <el-dialog\n      title=\"添加\"\n      :visible.sync=\"dialogVisible\"\n      width=\"50%\"\n      :append-to-body='true'\n      :before-close=\"handleClose\"\n      :closeOnClickModal='false'\n    >\n      <div class=\"el-dialog-counsel\">\n        <el-form\n          label-position=\"top\"\n          :rules=\"rules\"\n          ref=\"formLabelAlign\"\n          label-width=\"80px\"\n          :model=\"formLabelAlign\"\n        >\n          <el-form-item\n            label=\"公司名称\"\n            prop=\"company_name\"\n          >\n            <el-input v-model=\"formLabelAlign.company_name\"></el-input>\n          </el-form-item>\n          <el-form-item\n            label=\"公司地址\"\n            prop=\"company_address\"\n          >\n            <el-input v-model=\"formLabelAlign.company_address\"></el-input>\n          </el-form-item>\n          <el-form-item\n            label=\"公司简介\"\n            prop=\"company_summary\"\n          >\n            <el-input\n              type=\"textarea\"\n              v-model=\"formLabelAlign.company_summary\"\n              :autosize=\"{ minRows: 10, maxRows: 33}\"\n              placeholder=\"请输入内容\"\n            >\n            </el-input>\n          </el-form-item>\n          <el-form-item\n            label=\"行业\"\n            prop=\"industry\"\n          >\n            <el-input v-model=\"formLabelAlign.industry\"></el-input>\n          </el-form-item>\n          <el-form-item\n            label=\"联系人姓名\"\n            prop=\"name\"\n          >\n            <el-input v-model=\"formLabelAlign.name\"></el-input>\n          </el-form-item>\n          <el-form-item\n            label=\"职业\"\n            prop=\"job\"\n          >\n            <el-input v-model=\"formLabelAlign.job\"></el-input>\n          </el-form-item>\n          <el-form-item\n            label=\"联系人号码\"\n            prop=\"mobile\"\n          >\n            <el-input\n              type=\"number\"\n              v-model=\"formLabelAlign.mobile\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item\n            label=\"联系人邮箱\"\n            prop=\"mail\"\n          >\n            <el-input v-model=\"formLabelAlign.mail\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"兴趣意向\" prop=\"business\">\n            <el-input v-model=\"formLabelAlign.business\"></el-input>\n          </el-form-item>\n          <el-form-item\n            label=\"页面信息\"\n            prop=\"page_info\"\n          >\n            <el-input v-model=\"formLabelAlign.page_info\"></el-input>\n          </el-form-item>\n        </el-form>\n      </div>\n      <span\n        slot=\"footer\"\n        class=\"dialog-footer\"\n        v-if=\"!formLabelAlign.hasOwnProperty('con_id')\"\n      >\n        <el-button @click=\"handleClose\">取 消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"submitDialog('formLabelAlign')\"\n        >提 交</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { utcTimeChange } from \"@/utils\";\nexport default {\n  data() {\n    var validateMobile = (rule, value, callback) => {\n      var reg = 11 && /^((13|14|15|17|18)[0-9]{1}\\d{8})$/;\n      if (value === \"\") {\n        callback(new Error(\"请输入手机号\"));\n      } else if (!reg.test(this.formLabelAlign.mobile)) {\n        callback(new Error(\"手机号格式不正确\"));\n      } else {\n        callback();\n      }\n    };\n    var validateEmail = (rule, value, callback) => {\n      var regEmail = new RegExp(\n        \"^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$\"\n      );\n      if (value != \"\" && !regEmail.test(this.formLabelAlign.mail)) {\n        callback(new Error(\"邮箱格式不正确\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      dictionary_list: \"[]\",\n      selectClass: \"el-icon-arrow-down\",\n      content_show: false,\n      //表格\n      tableData: [],\n      currentPage: 1,\n      page_size: 15,\n      total: 0,\n      //弹出框\n      dialogVisible: false,\n      //表单\n      formLabelAlign: {\n        name: \"\",\n        mobile: \"\",\n        mail: \"\",\n        company_name: \"\",\n        company_address: \"\",\n        company_summary: \"\",\n        industry: \"\",\n        job:\"\",\n        business: \"\",\n        page_info:\"\",\n      },\n      rules: {\n        name: [{ required: true, message: \"请输入姓名\", trigger: \"blur\" }],\n        mobile: [\n          { required: true, message: \"请输入手机号\", trigger: \"blur\" },\n          { validator: validateMobile, trigger: \"blur\" }\n        ],\n        company_name: [\n          { required: true, message: \"请输入企业名称\", trigger: \"blur\" }\n        ],\n        industry: [{ required: true, message: \"请输入行业\" }],\n        mail: [{ validator: validateEmail, trigger: \"blur\" }]\n      }\n    };\n  },\n  mounted() {\n    //this.getDictionary();\n    this.getcounselList(\"1\", \"15\");\n  },\n  methods: {\n    getDictionary() {\n      var that = this;\n      var params = { code: \"business\" };\n      axios.post(\"core/dictionary/list\", params).then(\n        function(response) {\n          console.log(response)\n          var code = response.code;\n          if (0 == code) {\n            that.dictionary_list = response.data;\n          } else {\n          }\n        },\n        function(error) {}\n      );\n    },\n    handleSizeChange(val) {\n      this.getcounselList(this.currentPage, val);\n    },\n    handleCurrentChange(val) {\n      this.getcounselList(val, this.page_size);\n    },\n    //详情\n    handleEdit(index, row) {\n      this.dialogVisible = true;\n      this.formLabelAlign = {\n        con_id: row.con_id,\n        name: row.name,\n        mobile: row.mobile,\n        mail: row.mail,\n        company_name: row.company_name,\n        company_address: row.company_address,\n        company_summary: row.company_summary,\n        job: row.job,\n        industry: row.industry,\n        business: row.business,\n        page_info: row.page_info\n      };\n    },\n    handleClose() {\n      var that = this;\n      this.$confirm('是否保存？',{\n        showClose:false\n      })\n      .then(() => {\n        that.submitUserInfo('formLabelAlign');\n      })\n      .catch(() => {this.dialogVisible = false});\n    },\n    openAddDialog() {\n      this.formLabelAlign = {\n        name: \"\",\n        mobile: \"\",\n        mail: \"\",\n        company_name: \"\",\n        company_address: \"\",\n        company_summary: \"\",\n        industry: \"\",\n        job:\"\",\n        business: \"\",\n        page_info:\"\",\n      };\n      this.dialogVisible = true;\n    },\n    submitDialog(formType) {\n      var that = this;\n      this.$refs[formType].validate(valid => {\n        if (valid) {\n          var method = \"\";\n          var info = \"\";\n          if (that.formLabelAlign.hasOwnProperty(\"con_id\")) {\n            method = \"core/consultative/update\";\n            info = \"修改成功!\";\n          } else {\n            method = \"content/consultative/create\";\n            info = \"添加成功!\";\n          }\n          that.submitUserInfo(method, that.formLabelAlign, info);\n        } else {\n          return false;\n        }\n      });\n    },\n    cancleDialog() {\n      this.dialogVisible = false;\n    },\n    getcounselList(page_index, page_size) {\n      var params = { page_index: page_index, page_size: page_size };\n      var that = this;\n      axios.get(\"content/consultative/pageList\", { params }).then(\n        function(response) {\n          var code = response.code;\n          if (0 == code) {\n            var array = [];\n            var rdata = response.data;\n            var count = rdata.count;\n            var page_index = rdata.page_index;\n            var page_size = rdata.page_size;\n            that.currentPage = page_index;\n            that.page_size = page_size;\n            that.total = count;\n            var des_num = (page_index - 1) * page_size;\n            var json = rdata.rows;\n            for (var i = 0; i < json.length; i++) {\n              json[i].index = des_num + i + 1;\n              json[i].create_time = utcTimeChange(json[i].create_time);\n              if(json[i].business){\n                json[i].business = (json[i].business).join(\",\");\n              }\n              array.push(json[i]);\n            }\n            that.tableData = array;\n          } else {\n            //console.log(code);\n          }\n        },\n        function(error) {\n          //console.log(error);\n        }\n      );\n    },\n    submitUserInfo(method, params, info) {\n      var that = this;\n      if(params.business){\n        params.business = params.business.split(\",\");\n      }else{\n        params.business = [];\n      }\n      axios.post(method, params).then(\n        function(response) {\n          var code = response.code;\n          if (0 == code) {\n            that.$message({\n              type: \"success\",\n              message: info\n            });\n            that.dialogVisible = false;\n            that.getcounselList(that.currentPage, that.page_size);\n          } else {\n            that.$message({\n              type: \"success\",\n              message: \"操作失败:\" + response.message\n            });\n          }\n        },\n        function(error) {}\n      );\n    }\n  }\n};\n</script>\n\n<style scoped>\n.content-title {\n  margin-right: 20px;\n}\n.advanced-box {\n  padding: 20px 10px;\n  margin-top: 15px;\n  background-color: #f7f7f7;\n}\n.pager {\n  float: right;\n  padding: 10px 0;\n}\n.el-dialog__header {\n  border-bottom: 1px solid #ccc;\n}\n.el-dialog-counsel {\n  height: 530px !important;\n  padding-right: 15px;\n  overflow-y: scroll;\n}\n.el-dialog__footer {\n  border-top: 1px solid #ccc;\n}\n.el-form-item__label {\n  padding-bottom: 0 !important;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/contentManage/counsel/counsel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-card',{attrs:{\"shadow\":\"always\"}},[_c('span',{staticClass:\"content-title\"},[_vm._v(\"咨询管理\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.openAddDialog()}}},[_vm._v(\"添加\")])],1)],1),_vm._v(\" \"),_c('el-table',{attrs:{\"border\":\"\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"index\",\"label\":\"序号\",\"align\":\"center\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company_name\",\"label\":\"公司名称\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company_address\",\"label\":\"公司地址\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"联系人姓名\",\"align\":\"center\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"联系人号码\",\"align\":\"center\",\"width\":\"130\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mail\",\"label\":\"联系人邮箱\",\"align\":\"center\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"create_time\",\"label\":\"创建时间\",\"align\":\"center\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"详情\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"block pager\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[15, 20, 30],\"page-size\":_vm.page_size,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加\",\"visible\":_vm.dialogVisible,\"width\":\"50%\",\"append-to-body\":true,\"before-close\":_vm.handleClose,\"closeOnClickModal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"el-dialog-counsel\"},[_c('el-form',{ref:\"formLabelAlign\",attrs:{\"label-position\":\"top\",\"rules\":_vm.rules,\"label-width\":\"80px\",\"model\":_vm.formLabelAlign}},[_c('el-form-item',{attrs:{\"label\":\"公司名称\",\"prop\":\"company_name\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.company_name),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"company_name\", $$v)},expression:\"formLabelAlign.company_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公司地址\",\"prop\":\"company_address\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.company_address),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"company_address\", $$v)},expression:\"formLabelAlign.company_address\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公司简介\",\"prop\":\"company_summary\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 10, maxRows: 33},\"placeholder\":\"请输入内容\"},model:{value:(_vm.formLabelAlign.company_summary),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"company_summary\", $$v)},expression:\"formLabelAlign.company_summary\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"行业\",\"prop\":\"industry\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.industry),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"industry\", $$v)},expression:\"formLabelAlign.industry\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.name),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"name\", $$v)},expression:\"formLabelAlign.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"职业\",\"prop\":\"job\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.job),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"job\", $$v)},expression:\"formLabelAlign.job\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人号码\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.formLabelAlign.mobile),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"mobile\", $$v)},expression:\"formLabelAlign.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人邮箱\",\"prop\":\"mail\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.mail),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"mail\", $$v)},expression:\"formLabelAlign.mail\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"兴趣意向\",\"prop\":\"business\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.business),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"business\", $$v)},expression:\"formLabelAlign.business\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"页面信息\",\"prop\":\"page_info\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.page_info),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"page_info\", $$v)},expression:\"formLabelAlign.page_info\"}})],1)],1)],1),_vm._v(\" \"),(!_vm.formLabelAlign.hasOwnProperty('con_id'))?_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitDialog('formLabelAlign')}}},[_vm._v(\"提 交\")])],1):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-793c9298\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/contentManage/counsel/counsel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-793c9298\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./counsel.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./counsel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./counsel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-793c9298\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./counsel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-793c9298\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/contentManage/counsel/counsel.vue\n// module id = null\n// module chunks = ","import counsel from './counsel.vue';\nexport default counsel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/contentManage/counsel/index.js"],"sourceRoot":""}