{"version":3,"sources":["webpack:///src/views/contentManage/counsel/counsel.vue","webpack:///./src/views/contentManage/counsel/counsel.vue?62ad","webpack:///./src/views/contentManage/counsel/counsel.vue","webpack:///./src/views/contentManage/counsel/index.js"],"names":["counsel","data","_this","this","dictionary_list","selectClass","content_show","tableData","currentPage","page_size","total","dialogVisible","formLabelAlign","name","mobile","mail","company_name","company_address","company_summary","industry","job","business","page_info","rules","required","message","trigger","validator","rule","value","callback","Error","test","regEmail","RegExp","mounted","getcounselList","methods","getDictionary","that","axios_default","a","post","code","then","response","console","log","error","handleSizeChange","val","handleCurrentChange","handleEdit","index","row","con_id","handleClose","_this2","$confirm","showClose","submitUserInfo","catch","openAddDialog","submitDialog","formType","$refs","validate","valid","method","info","hasOwnProperty","cancleDialog","page_index","params","get","array","rdata","count","des_num","json","rows","i","length","create_time","Object","utils","join","push","split","$message","type","counsel_counsel","render","_vm","_h","$createElement","_c","_self","staticStyle","margin-bottom","attrs","shadow","staticClass","_v","on","click","$event","border","prop","label","align","width","scopedSlots","_u","key","fn","scope","size","$index","current-page","page-sizes","page-size","layout","size-change","current-change","update:currentPage","update:current-page","title","visible","append-to-body","before-close","closeOnClickModal","update:visible","ref","label-position","label-width","model","$$v","$set","expression","autosize","minRows","maxRows","placeholder","_e","slot","staticRenderFns","contentManage_counsel_counsel","__webpack_require__","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/22.f258cb994c59dbbb1248.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-row style=\"margin-bottom:20px;\">\r\n      <el-card shadow=\"always\">\r\n        <span class=\"content-title\">咨询管理</span>\r\n        <el-button\r\n          type=\"success\"\r\n          @click=\"openAddDialog()\"\r\n        >添加</el-button>\r\n      </el-card>\r\n    </el-row>\r\n    <el-table\r\n      border\r\n      :data=\"tableData\"\r\n    >\r\n      <el-table-column\r\n        prop=\"index\"\r\n        label=\"序号\"\r\n        align=\"center\"\r\n        width=\"80\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"company_name\"\r\n        label=\"公司名称\"\r\n        align=\"center\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"company_address\"\r\n        label=\"公司地址\"\r\n        align=\"center\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"联系人姓名\"\r\n        align=\"center\"\r\n        width=\"120\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"mobile\"\r\n        label=\"联系人号码\"\r\n        align=\"center\"\r\n        width=\"130\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"mail\"\r\n        label=\"联系人邮箱\"\r\n        align=\"center\"\r\n        width=\"180\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"create_time\"\r\n        label=\"创建时间\"\r\n        align=\"center\"\r\n        width=\"200\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"操作\"\r\n        align=\"center\"\r\n        width=\"100\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"handleEdit(scope.$index, scope.row)\"\r\n          >详情</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"block pager\">\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"currentPage\"\r\n        :page-sizes=\"[15, 20, 30]\"\r\n        :page-size=\"page_size\"\r\n        layout=\"sizes, prev, pager, next\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n    <el-dialog\r\n      title=\"添加\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"50%\"\r\n      :append-to-body='true'\r\n      :before-close=\"handleClose\"\r\n      :closeOnClickModal='false'\r\n    >\r\n      <div class=\"el-dialog-counsel\">\r\n        <el-form\r\n          label-position=\"top\"\r\n          :rules=\"rules\"\r\n          ref=\"formLabelAlign\"\r\n          label-width=\"80px\"\r\n          :model=\"formLabelAlign\"\r\n        >\r\n          <el-form-item\r\n            label=\"公司名称\"\r\n            prop=\"company_name\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.company_name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"公司地址\"\r\n            prop=\"company_address\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.company_address\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"公司简介\"\r\n            prop=\"company_summary\"\r\n          >\r\n            <el-input\r\n              type=\"textarea\"\r\n              v-model=\"formLabelAlign.company_summary\"\r\n              :autosize=\"{ minRows: 10, maxRows: 33}\"\r\n              placeholder=\"请输入内容\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"行业\"\r\n            prop=\"industry\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.industry\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"联系人姓名\"\r\n            prop=\"name\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"职业\"\r\n            prop=\"job\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.job\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"联系人号码\"\r\n            prop=\"mobile\"\r\n          >\r\n            <el-input\r\n              type=\"number\"\r\n              v-model=\"formLabelAlign.mobile\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"联系人邮箱\"\r\n            prop=\"mail\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.mail\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"兴趣意向\" prop=\"business\">\r\n            <el-input v-model=\"formLabelAlign.business\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"页面信息\"\r\n            prop=\"page_info\"\r\n          >\r\n            <el-input v-model=\"formLabelAlign.page_info\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <span\r\n        slot=\"footer\"\r\n        class=\"dialog-footer\"\r\n        v-if=\"!formLabelAlign.hasOwnProperty('con_id')\"\r\n      >\r\n        <el-button @click=\"handleClose\">取 消</el-button>\r\n        <el-button\r\n          type=\"primary\"\r\n          @click=\"submitDialog('formLabelAlign')\"\r\n        >提 交</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { utcTimeChange } from \"@/utils\";\r\nexport default {\r\n  data() {\r\n    var validateMobile = (rule, value, callback) => {\r\n      var reg = 11 && /^((13|14|15|17|18)[0-9]{1}\\d{8})$/;\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入手机号\"));\r\n      } else if (!reg.test(this.formLabelAlign.mobile)) {\r\n        callback(new Error(\"手机号格式不正确\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var validateEmail = (rule, value, callback) => {\r\n      var regEmail = new RegExp(\r\n        \"^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$\"\r\n      );\r\n      if (value != \"\" && !regEmail.test(this.formLabelAlign.mail)) {\r\n        callback(new Error(\"邮箱格式不正确\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      dictionary_list: \"[]\",\r\n      selectClass: \"el-icon-arrow-down\",\r\n      content_show: false,\r\n      //表格\r\n      tableData: [],\r\n      currentPage: 1,\r\n      page_size: 15,\r\n      total: 0,\r\n      //弹出框\r\n      dialogVisible: false,\r\n      //表单\r\n      formLabelAlign: {\r\n        name: \"\",\r\n        mobile: \"\",\r\n        mail: \"\",\r\n        company_name: \"\",\r\n        company_address: \"\",\r\n        company_summary: \"\",\r\n        industry: \"\",\r\n        job:\"\",\r\n        business: \"\",\r\n        page_info:\"\",\r\n      },\r\n      rules: {\r\n        name: [{ required: true, message: \"请输入姓名\", trigger: \"blur\" }],\r\n        mobile: [\r\n          { required: true, message: \"请输入手机号\", trigger: \"blur\" },\r\n          { validator: validateMobile, trigger: \"blur\" }\r\n        ],\r\n        company_name: [\r\n          { required: true, message: \"请输入企业名称\", trigger: \"blur\" }\r\n        ],\r\n        industry: [{ required: true, message: \"请输入行业\" }],\r\n        mail: [{ validator: validateEmail, trigger: \"blur\" }]\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    //this.getDictionary();\r\n    this.getcounselList(\"1\", \"15\");\r\n  },\r\n  methods: {\r\n    getDictionary() {\r\n      var that = this;\r\n      var params = { code: \"business\" };\r\n      axios.post(\"core/dictionary/list\", params).then(\r\n        function(response) {\r\n          console.log(response)\r\n          var code = response.code;\r\n          if (0 == code) {\r\n            that.dictionary_list = response.data;\r\n          } else {\r\n          }\r\n        },\r\n        function(error) {}\r\n      );\r\n    },\r\n    handleSizeChange(val) {\r\n      this.getcounselList(this.currentPage, val);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.getcounselList(val, this.page_size);\r\n    },\r\n    //详情\r\n    handleEdit(index, row) {\r\n      this.dialogVisible = true;\r\n      this.formLabelAlign = {\r\n        con_id: row.con_id,\r\n        name: row.name,\r\n        mobile: row.mobile,\r\n        mail: row.mail,\r\n        company_name: row.company_name,\r\n        company_address: row.company_address,\r\n        company_summary: row.company_summary,\r\n        job: row.job,\r\n        industry: row.industry,\r\n        business: row.business,\r\n        page_info: row.page_info\r\n      };\r\n    },\r\n    handleClose() {\r\n      var that = this;\r\n      this.$confirm('是否保存？',{\r\n        showClose:false\r\n      })\r\n      .then(() => {\r\n        that.submitUserInfo('formLabelAlign');\r\n      })\r\n      .catch(() => {this.dialogVisible = false});\r\n    },\r\n    openAddDialog() {\r\n      this.formLabelAlign = {\r\n        name: \"\",\r\n        mobile: \"\",\r\n        mail: \"\",\r\n        company_name: \"\",\r\n        company_address: \"\",\r\n        company_summary: \"\",\r\n        industry: \"\",\r\n        job:\"\",\r\n        business: \"\",\r\n        page_info:\"\",\r\n      };\r\n      this.dialogVisible = true;\r\n    },\r\n    submitDialog(formType) {\r\n      var that = this;\r\n      this.$refs[formType].validate(valid => {\r\n        if (valid) {\r\n          var method = \"\";\r\n          var info = \"\";\r\n          if (that.formLabelAlign.hasOwnProperty(\"con_id\")) {\r\n            method = \"core/consultative/update\";\r\n            info = \"修改成功!\";\r\n          } else {\r\n            method = \"content/consultative/create\";\r\n            info = \"添加成功!\";\r\n          }\r\n          that.submitUserInfo(method, that.formLabelAlign, info);\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    cancleDialog() {\r\n      this.dialogVisible = false;\r\n    },\r\n    getcounselList(page_index, page_size) {\r\n      var params = { page_index: page_index, page_size: page_size };\r\n      var that = this;\r\n      axios.get(\"content/consultative/pageList\", { params }).then(\r\n        function(response) {\r\n          var code = response.code;\r\n          if (0 == code) {\r\n            var array = [];\r\n            var rdata = response.data;\r\n            var count = rdata.count;\r\n            var page_index = rdata.page_index;\r\n            var page_size = rdata.page_size;\r\n            that.currentPage = page_index;\r\n            that.page_size = page_size;\r\n            that.total = count;\r\n            var des_num = (page_index - 1) * page_size;\r\n            var json = rdata.rows;\r\n            for (var i = 0; i < json.length; i++) {\r\n              json[i].index = des_num + i + 1;\r\n              json[i].create_time = utcTimeChange(json[i].create_time);\r\n              if(json[i].business){\r\n                json[i].business = (json[i].business).join(\",\");\r\n              }\r\n              array.push(json[i]);\r\n            }\r\n            that.tableData = array;\r\n          } else {\r\n            //console.log(code);\r\n          }\r\n        },\r\n        function(error) {\r\n          //console.log(error);\r\n        }\r\n      );\r\n    },\r\n    submitUserInfo(method, params, info) {\r\n      var that = this;\r\n      if(params.business){\r\n        params.business = params.business.split(\",\");\r\n      }else{\r\n        params.business = [];\r\n      }\r\n      axios.post(method, params).then(\r\n        function(response) {\r\n          var code = response.code;\r\n          if (0 == code) {\r\n            that.$message({\r\n              type: \"success\",\r\n              message: info\r\n            });\r\n            that.dialogVisible = false;\r\n            that.getcounselList(that.currentPage, that.page_size);\r\n          } else {\r\n            that.$message({\r\n              type: \"success\",\r\n              message: \"操作失败:\" + response.message\r\n            });\r\n          }\r\n        },\r\n        function(error) {}\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content-title {\r\n  margin-right: 20px;\r\n}\r\n.advanced-box {\r\n  padding: 20px 10px;\r\n  margin-top: 15px;\r\n  background-color: #f7f7f7;\r\n}\r\n.pager {\r\n  float: right;\r\n  padding: 10px 0;\r\n}\r\n.el-dialog__header {\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.el-dialog-counsel {\r\n  height: 530px !important;\r\n  padding-right: 15px;\r\n  overflow-y: scroll;\r\n}\r\n.el-dialog__footer {\r\n  border-top: 1px solid #ccc;\r\n}\r\n.el-form-item__label {\r\n  padding-bottom: 0 !important;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/contentManage/counsel/counsel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-card',{attrs:{\"shadow\":\"always\"}},[_c('span',{staticClass:\"content-title\"},[_vm._v(\"咨询管理\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.openAddDialog()}}},[_vm._v(\"添加\")])],1)],1),_vm._v(\" \"),_c('el-table',{attrs:{\"border\":\"\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"index\",\"label\":\"序号\",\"align\":\"center\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company_name\",\"label\":\"公司名称\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company_address\",\"label\":\"公司地址\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"联系人姓名\",\"align\":\"center\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"联系人号码\",\"align\":\"center\",\"width\":\"130\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mail\",\"label\":\"联系人邮箱\",\"align\":\"center\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"create_time\",\"label\":\"创建时间\",\"align\":\"center\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"详情\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"block pager\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[15, 20, 30],\"page-size\":_vm.page_size,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加\",\"visible\":_vm.dialogVisible,\"width\":\"50%\",\"append-to-body\":true,\"before-close\":_vm.handleClose,\"closeOnClickModal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"el-dialog-counsel\"},[_c('el-form',{ref:\"formLabelAlign\",attrs:{\"label-position\":\"top\",\"rules\":_vm.rules,\"label-width\":\"80px\",\"model\":_vm.formLabelAlign}},[_c('el-form-item',{attrs:{\"label\":\"公司名称\",\"prop\":\"company_name\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.company_name),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"company_name\", $$v)},expression:\"formLabelAlign.company_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公司地址\",\"prop\":\"company_address\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.company_address),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"company_address\", $$v)},expression:\"formLabelAlign.company_address\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公司简介\",\"prop\":\"company_summary\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 10, maxRows: 33},\"placeholder\":\"请输入内容\"},model:{value:(_vm.formLabelAlign.company_summary),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"company_summary\", $$v)},expression:\"formLabelAlign.company_summary\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"行业\",\"prop\":\"industry\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.industry),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"industry\", $$v)},expression:\"formLabelAlign.industry\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.name),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"name\", $$v)},expression:\"formLabelAlign.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"职业\",\"prop\":\"job\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.job),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"job\", $$v)},expression:\"formLabelAlign.job\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人号码\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.formLabelAlign.mobile),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"mobile\", $$v)},expression:\"formLabelAlign.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人邮箱\",\"prop\":\"mail\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.mail),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"mail\", $$v)},expression:\"formLabelAlign.mail\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"兴趣意向\",\"prop\":\"business\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.business),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"business\", $$v)},expression:\"formLabelAlign.business\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"页面信息\",\"prop\":\"page_info\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.page_info),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"page_info\", $$v)},expression:\"formLabelAlign.page_info\"}})],1)],1)],1),_vm._v(\" \"),(!_vm.formLabelAlign.hasOwnProperty('con_id'))?_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitDialog('formLabelAlign')}}},[_vm._v(\"提 交\")])],1):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-affa31c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/contentManage/counsel/counsel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-affa31c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./counsel.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./counsel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./counsel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-affa31c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./counsel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-affa31c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/contentManage/counsel/counsel.vue\n// module id = null\n// module chunks = ","import counsel from './counsel.vue';\r\nexport default counsel;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/contentManage/counsel/index.js"],"sourceRoot":""}